---
title: "DSBA 5122: Visual Analytics"
subtitle: "Why R (and RStudio)?"  
author: "Ryan Wesslen"
date: '2019-01-28'
citeproc: false
bibliography: ../../10bib/references.bib
csl: ../../10bib/chicago-syllabus-no-bib.csl
output:
  xaringan::moon_reader:
    nature: 
      beforeInit: "https://platform.twitter.com/widgets.js"
    lib_dir: libs
    css: xaringan-themer.css
    chakra: libs/remark-latest.min.js
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
library(xaringanthemer)
mono_accent(base_color = "#046A38")
```

# What is R?

![](../../images/slides/dsba-rintro/r.gif)

---

# What is RStudio?

```{r echo=FALSE, out.width = '80%'}
knitr::include_graphics("../../images/slides/dsba-rintro/rstudio.gif")
```

---

# 1. Why R / RStudio?

It's free, as in ... free beer?

<div style="width:80%;height:0;padding-bottom:77%;position:relative;"><iframe src="https://giphy.com/embed/3o6MbkGRfcasxz9rnW" width="80%" height="80%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen></iframe></div><p><a href="https://giphy.com/gifs/season-11-the-simpsons-11x5-3o6MbkGRfcasxz9rnW">via GIPHY</a></p>

---

# 2. Why R / RStudio?

<blockquote class="twitter-tweet tw-align-center" data-lang="en"><p lang="en" dir="ltr">well this R=Batman, Python=Superman apparently showed up in a vendor pitch to one of my colleagues. That must make it official. <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> <a href="https://twitter.com/hashtag/python?src=hash&amp;ref_src=twsrc%5Etfw">#python</a> <a href="https://t.co/pkKGB8EOHj">pic.twitter.com/pkKGB8EOHj</a></p>&mdash; JD Long (@CMastication) <a href="https://twitter.com/CMastication/status/1037486624500854784?ref_src=twsrc%5Etfw">September 5, 2018</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

---

![](../../images/slides/dsba-rintro/r1.png)

---

![](../../images/slides/dsba-rintro/r2.png)

---

![](../../images/slides/dsba-rintro/r3.png)

---

![](../../images/slides/dsba-rintro/r4.png)

---

![](../../images/slides/dsba-rintro/r5.png)

---

![](../../images/slides/dsba-rintro/r6.png)

---

![](../../images/slides/dsba-rintro/r7.png)

---

# 3. Why R / RStudio?

The community (h/t [`@hrbrmstr`](https://rud.is/books/21-recipes/visualizing-a-graph-of-retweet-relationships.html))

```{r eval=FALSE}
library(rtweet)
library(igraph)
library(ggraph)
library(tidyverse)

rt_g <- search_tweets("#rstats", n=3200) %>%> # twitter api
  filter(retweet_count > 0) %>%                 # keep tweets with RT's
  select(screen_name, mentions_screen_name) %>% # select column from/to
  unnest(mentions_screen_name) %>%              # unnest json
  filter(!is.na(mentions_screen_name)) %>%      # include mentions
  graph_from_data_frame()                       # convert to ggraph format

# set node labels
V(rt_g)$node_label <- unname(ifelse(degree(rt_g)[V(rt_g)] > 40, names(V(rt_g)), "")) 
V(rt_g)$node_size <- unname(ifelse(degree(rt_g)[V(rt_g)] > 40, degree(rt_g), 0)) 
```

---

# 3. Why R / RStudio?

The community

```{r eval=FALSE}
subt <- "Most retweeted screen names labeled.\
      Darkers edges == more retweets.\
      Node size == larger degree"

# ggplot inspired networks: ggraph
ggraph(rt_g, layout = 'linear', circular = TRUE) + 
  geom_edge_arc(edge_width=0.125, aes(alpha=..index..)) +
  geom_node_label(aes(label=node_label, size=node_size),
                  label.size=0, fill="#ffffff66", segment.colour="springgreen",
                  color="slateblue", repel=TRUE, fontface="bold") +
  coord_fixed() +
  scale_size_area(trans="sqrt") +
  labs(title="Retweet Relationships", 
       subtitle= subt) +
  theme_graph() +
  theme(legend.position="none")
```

---

class: middle, center

```{r echo=FALSE}
knitr::include_graphics("../../images/slides/dsba-rintro/r9.png")
```

---

<blockquote class="twitter-tweet tw-align-center" width="60%" data-conversation="none" data-lang="en"><p lang="en" dir="ltr">I can and it&#39;s HORRIFYINGüò¨üò¨üò¨üò¨ <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> <a href="https://t.co/aMQiwva7fr">pic.twitter.com/aMQiwva7fr</a></p>&mdash; Tyler Morgan-Wall (@tylermorganwall) <a href="https://twitter.com/tylermorganwall/status/1088978382195437568?ref_src=twsrc%5Etfw">January 26, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


And it's just fun!

---

class: middle, center

# tidyverse

```{r echo=FALSE, out.width = '60%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r8.png")
```

---

# What are R packages?

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r10.png")
```

---

# What are R packages?

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r11.png")
```

---

# What are R packages?

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r12.png")
```

---

# How to install and run packages:

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r13.png")
```

---

# How to install and run packages:

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r14.png")
```

---

# How to install and run packages:

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r15.png")
```

---

# How to install and run packages:

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r16.png")
```

---

# How to install and run packages:

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r17.png")
```

---

# Data science workflow

```{r echo=FALSE, out.width = '100%'}
knitr::include_graphics("../../images/slides/dsba-rintro/r18.png")
```

---

# Schools of thought for learning R

### Base R first:

- Teach syntax such as `$` and `[[]]`, loops and conditionals, data types, etc.

- Possibly introduce dplyr or data.table as alternatives.

### Tidyverse first:

- Keep a single-minded focus on data frames and dplyr; introduce ggplot2, tidyr and purrr shortly afterwards.

- Introduce the `%>%` operator; skip syntax like `[[]]` and `$` for later.

   

Source: [David Robinson](http://varianceexplained.org/r/teach-tidyverse/)

---

# Teach the Tidyverse to Beginners

- Get students doing powerful things quickly.

- Don‚Äôt teach procedural logic (loops and conditionals)

- Teach tables (group by and join).

- `%>%` (‚Äúpiping‚Äù) isn‚Äôt too hard for beginners

- R Projects instead of `setwd()` each time

- ‚ÄúThere‚Äôs only one way to do it‚Äù

--

### Conclusion: You have permission not to be boring

[David's RStudio::conf 2018 Talk](2018 RStudio::conf talk on teaching tidyverse)

---

# Appendix: 

<blockquote class="twitter-tweet tw-align-center" data-lang="en"><p lang="en" dir="ltr">I had a long flight and I guess <a href="https://twitter.com/drob?ref_src=twsrc%5Etfw">@drob</a> was right all along, so I wrote a lil thing about some of the themes I noticed at <a href="https://twitter.com/hashtag/rstudioconf?src=hash&amp;ref_src=twsrc%5Etfw">#rstudioconf</a> üíú<a href="https://t.co/5QIAVOCrlR">https://t.co/5QIAVOCrlR</a> <a href="https://t.co/d9TUlHJj5m">pic.twitter.com/d9TUlHJj5m</a></p>&mdash; Brooke Watson (@brookLYNevery1) <a href="https://twitter.com/brookLYNevery1/status/1086756454638379009?ref_src=twsrc%5Etfw">January 19, 2019</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

